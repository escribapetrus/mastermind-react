(this["webpackJsonpmastermind-react"]=this["webpackJsonpmastermind-react"]||[]).push([[0],{49:function(e,t,n){e.exports=n(64)},54:function(e,t,n){},57:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),s=n.n(c),l=(n(54),n(13)),o=Object(a.createContext)();function u(e){var t=e.children,n=Object(a.useState)({pegs:[],display:!1}),c=Object(l.a)(n,2),s=c[0],u=c[1];return r.a.createElement(o.Provider,{value:{secret:s,setSecret:u}},t)}function i(){var e=Object(a.useContext)(o);if(!e)throw new Error("useSecret must be used within a context provider");return{secret:e.secret,setSecret:e.setSecret}}var m=Object(a.createContext)();function p(e){var t=e.children,n=Object(a.useState)({active:!1}),c=Object(l.a)(n,2),s=c[0],o=c[1];return r.a.createElement(m.Provider,{value:{gameStatus:s,setGameStatus:o}},t)}function g(){var e=Object(a.useContext)(m);if(!e)throw new Error("useContext must be used within a provider");return{gameStatus:e.gameStatus,setGameStatus:e.setGameStatus}}var d=Object(a.createContext)();function f(e){var t=e.children,n=Object(a.useState)([]),c=Object(l.a)(n,2),s=c[0],o=c[1];return r.a.createElement(d.Provider,{value:{guesses:s,setGuesses:o}},t)}function E(){var e=Object(a.useContext)(d);if(!e)throw new Error("useGuess must be used within a provider");return{guesses:e.guesses,setGuesses:e.setGuesses}}var h=Object(a.createContext)();function v(e){var t=e.children,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1];return r.a.createElement(h.Provider,{value:{message:s,setMessage:o}},t)}function b(){var e=Object(a.useContext)(h);if(!e)throw new Error("useMessage must be used within a provider");return{message:e.message,setMessage:e.setMessage}}var y=n(10),w=n.n(y),C=n(87),S=n(90),j=n(88),x=n(66),O=n(81);n(57);var k=function(e){var t=e.pegs,n=i().setSecret,a=g().setGameStatus,c=E().setGuesses,s=b().setMessage;return r.a.createElement("header",{className:"Header"},r.a.createElement("h1",{style:{textAlign:"center"}},"MASTERMIND REACT"),r.a.createElement(O.a,null,r.a.createElement(x.a,{onClick:function(){n(function(e,t){var n=w.a.map(e,(function(t){return w.a.sample(e)}));return{pegs:w.a.take(n,t),display:!1}}(t,4)),a({active:!0}),c([])}},"New Game"),r.a.createElement(x.a,{onClick:function(){s("\n                        Welcome to MASTERMIND. \n                        Discover the secret using the colored pegs and hints. \n                        Each black hint means a right color in the right position.\n                        Each white hint means a right color in the wrong position.\n                        Click on the colors to choose your pegs, and click on guess\n                        to see if you have the answer.\n                    ")}},"Rules")))},G=n(83);var M=function(e){var t=e.secret,n=e.display;return r.a.createElement(S.a,{m:2},n?t.map((function(e){return r.a.createElement(G.a,{style:{color:e.color,fontSize:"3rem"}},"stop_circle")})):t.map((function(e){return r.a.createElement(G.a,{style:{color:"black",fontSize:"3rem"}},"stop_circle")})))},D=n(34),_=n(84),A=n(85),B=n(93);function z(e,t){switch(t.type){case"add":if(e.guess.length<=3)return{guess:w.a.concat(e.guess,Object(D.a)(Object(D.a)({},t.payload),{},{id:Object(B.a)()}))};case"remove":return{guess:w.a.filter(e.guess,(function(e){return e.id!==t.payload.id}))};case"reset":return{guess:[]};default:throw new Error}}var F=function(e){var t=e.pegs,n=e.secret,c=e.gameStatus,s=Object(a.useReducer)(z,{guess:[]}),o=Object(l.a)(s,2),u=o[0],i=o[1],m=E(),p=m.guesses,g=m.setGuesses;return r.a.createElement(_.a,null,r.a.createElement(S.a,{display:"flex",justifyContent:"center",m:2,minHeight:"60px"},u.guess.map((function(e){return r.a.createElement(G.a,{style:{color:e.color,fontSize:"2.5rem"},onClick:function(){return i({type:"remove",payload:e})}},"stop_circle")}))),r.a.createElement(A.a,{container:!0,justify:"center",alignItems:"center",spacing:1},t.map((function(e){return r.a.createElement(A.a,{item:!0,xs:6,sm:4,md:1},r.a.createElement(x.a,{style:{backgroundColor:e.color,color:e.color,width:"100%"},onClick:function(){return i({type:"add",payload:e})}},e.color))}))),r.a.createElement(S.a,{m:1,display:"flex",flexDirection:"row",justifyContent:"center"},r.a.createElement(O.a,null,r.a.createElement(x.a,{onClick:function(){4===u.guess.length&&4===n.length&&c&&(g(w.a.concat(p,function(e,t){if(4===e.length&&4===t.length){var n=w.a.map(e,(function(e){return e.num})),a=w.a.map(t,(function(e){return e.num})),r=w.a.zip(n,a),c=w.a.map(r,(function(e){return e[0]===e[1]?1:0})),s=w.a.reduce(c,(function(e,t){return e+t}),0),l=function(e,t){var n=t.slice(),a=[];return e.map((function(e){n.includes(e)?n.splice(n.indexOf(e),1):a.push(e)})),a}(a,n);return{guess:e,blacks:s,whites:t.length-l.length-s}}return{}}(u.guess,n))),i({type:"reset"}))}},"guess"),r.a.createElement(x.a,{onClick:function(){return i({type:"reset"})}},"reset"))))},I=n(86);n(61);var N=function(){var e=E().guesses;return r.a.createElement("div",{className:"Board"},r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("li",null,e.guess.map((function(e){return r.a.createElement(G.a,{style:{color:e.color,fontSize:"2.5rem"}},"stop_circle")})),r.a.createElement(I.a,{color:"secondary",showZero:!0,overlap:"circle",badgeContent:e.blacks},r.a.createElement(G.a,null,"stop_circle")),r.a.createElement(I.a,{color:"secondary",showZero:!0,overlap:"circle",badgeContent:e.whites},r.a.createElement(G.a,null,"panorama_fish_eye")))}))))},P=n(91),R=n(92);var H=function(){var e=b(),t=e.message,n=e.setMessage;return r.a.createElement(P.a,{open:!!t,onClose:function(){return n(null)},BackdropComponent:R.a,BackdropProps:{timeout:700},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement(S.a,{width:"70%",style:{margin:"150px auto"}},r.a.createElement(C.a,{style:{padding:"20px",textAlign:"center"}},r.a.createElement("p",null,t))))},T=[{num:1,color:"#1F487E"},{num:2,color:"#DF2935"},{num:3,color:"#FFD400"},{num:4,color:"#F65BE3"},{num:5,color:"#EE6123"},{num:6,color:"#0C8346"}];n(62);var W=function(){var e=i(),t=e.secret,n=e.setSecret,c=g(),s=c.gameStatus,l=c.setGameStatus,o=E().guesses,u=b().setMessage;return Object(a.useEffect)((function(){s.active&&o.length>1&&4===w.a.last(o).blacks?(l({active:!1}),u("You win"),n({pegs:t.pegs,display:!0})):s.active&&o.length>9&&(l({active:!1}),u("You lose!"),n({pegs:t.pegs,display:!0}))})),r.a.createElement(C.a,null,r.a.createElement(S.a,{my:4,p:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},r.a.createElement(k,{pegs:T}),t.pegs.length>1&&r.a.createElement(M,{secret:t.pegs,display:t.display}),r.a.createElement(j.a,null),r.a.createElement(H,null),r.a.createElement(N,null),r.a.createElement(j.a,null),r.a.createElement(F,{pegs:T,secret:t.pegs,gameStatus:s.active})))};var J=function(){return r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"#dddddd"}},r.a.createElement("p",null,"created by ",r.a.createElement("a",{href:"https://github.com/escribapetrus"},"escribapetrus")," using react. \ud83e\uddd9"))};n(63);var Y=function(){return r.a.createElement(S.a,{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between"},r.a.createElement(_.a,null,r.a.createElement(p,null,r.a.createElement(u,null,r.a.createElement(f,null,r.a.createElement(v,null,r.a.createElement(W,null)))))),r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.9af4d8c8.chunk.js.map